extends layout

block content
    .w3-padding-48
        .w3-padding-small.w3-block
            input.w3-input(type='text', placeholder='Search', id='searchString', name='searchString')
        .w3-padding-32
            table.w3-table.w3-card(id="resorts-table")
                tr
                    th Resort ID
                    th Resort Name
                    th Guesty Listing Name
                    th Unit Type
                tbody(id="table-body")
            
        div.w3-center
            div.w3-bar(id="pagination")

            script(src='/javascripts/showRecords.js')
            script.
                var limit = 10, offset = 0, search = '';
                var records = !{JSON.stringify(records)};
                let endpoint = `/sse/resorts`;
                let eventSource = new EventSource(`/sse/resorts?limit=${limit}&offset=${offset}&search=${search}`); 

                showRecords(eventSource, "resorts");
                updatePagination(eventSource, limit, offset, "resorts", 1, records, endpoint, search);
